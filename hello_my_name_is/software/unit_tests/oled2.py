# https://pypi.org/project/oled-text/

# Display Image & text on I2C driven ssd1306 OLED display
from machine import Pin, I2C
from ssd1306 import SSD1306_I2C
import utime
import framebuf

#N096-2864KSWEG01-H30
WIDTH = 128 # oled display width
HEIGHT = 64 # oled display height

oled_rst = machine.Pin(15, machine.Pin.OUT)
oled_rst.low()
utime.sleep(0.1)
oled_rst.high()
i2c = machine.I2C(0, sda=machine.Pin(16), scl=machine.Pin(17))

#i2c = I2C(0) # Init I2C using I2C0 defaults,
#SCL=Pin(GP9), SDA=Pin(GP8), freq=400000
print("I2C Address : "+hex(i2c.scan()[0]).upper()) # Display device address
print("I2C Configuration: "+str(i2c)) # Display I2C config

oled = SSD1306_I2C(WIDTH, HEIGHT, i2c) # Init oled display

# Raspberry Pi logo as 32x32 bytearray
buffer = bytearray(b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|?\x00\x01\x86@\x80\x01\x01\x80\x80\x01\x11\x88\x80\x01\x05\xa0\x80\x00\x83\xc1\x00\x00C\xe3\x00\x00~\xfc\x00\x00L'\x00\x00\x9c\x11\x00\x00\xbf\xfd\x00\x00\xe1\x87\x00\x01\xc1\x83\x80\x02A\x82@\x02A\x82@\x02\xc1\xc2@\x02\xf6>\xc0\x01\xfc=\x80\x01\x18\x18\x80\x01\x88\x10\x80\x00\x8c!\x00\x00\x87\xf1\x00\x00\x7f\xf6\x00\x008\x1c\x00\x00\x0c \x00\x00\x03\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00")
buffer2 = bytearray(b'\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xe0\x7f\xf0\x7e\x38\x00\x07\xf8\x3f\x0f\xf0\xff\xff\xff\xff\xff\xc0\x7f\xe0\x3e\x38\x00\x07\xc0\x0f\x0f\xf0\xff\xff\xff\xff\xff\xc0\x3f\xe0\x3e\x38\x00\x07\x80\x07\x0f\xf0\xff\xff\xff\xff\xff\xc0\x3f\xc0\x3e\x3f\xe1\xff\x03\xc7\x0f\xf0\xff\xff\xff\xff\xff\xc2\x3f\xc4\x3e\x3f\xe1\xff\x0f\xf7\x0f\xf0\xff\xff\xff\xff\xff\xc2\x1f\x84\x3e\x3f\xe1\xfe\x1f\xff\x0f\xf0\xff\xff\xff\xff\xff\xc2\x1f\x8c\x3e\x3f\xe1\xfe\x1f\xff\x0f\xf0\xff\xff\xff\xff\xff\xc3\x1f\x8c\x3e\x3f\xe1\xfe\x1f\xff\x0f\xf0\xff\xff\xff\xff\xff\xc3\x0f\x0c\x3e\x3f\xe1\xfc\x1f\xff\x00\x00\xff\xff\xff\xff\xff\xc3\x0f\x1c\x3e\x3f\xe1\xfc\x1f\xff\x00\x00\xff\xff\xff\xff\xff\xc3\x87\x1c\x3e\x3f\xe1\xfc\x1f\xff\x00\x00\xff\xff\xff\xff\xff\xc3\x86\x1c\x3e\x3f\xe1\xfc\x1f\xff\x0f\xf0\xff\xff\xff\xff\xff\xc3\xc6\x3c\x3e\x3f\xe1\xfe\x1f\xff\x0f\xf0\xff\xff\xff\xff\xff\xc3\xc0\x3c\x3e\x3f\xe1\xfe\x1f\xff\x0f\xf0\xff\xff\xff\xff\xff\xc3\xc0\x3c\x3e\x3f\xe1\xfe\x1f\xff\x0f\xf0\xff\xff\xff\xff\xff\xc3\xe0\x7c\x3e\x3f\xe1\xfe\x0f\xf7\x0f\xf0\xff\xff\xff\xff\xff\xc3\xe0\x7c\x3e\x3f\xe1\xff\x07\xc7\x0f\xf0\xff\xff\xff\xff\xff\xc3\xe0\x7c\x3e\x3f\xe1\xff\x80\x07\x0f\xf0\xff\xff\xff\xff\xff\xc3\xf0\xfc\x3e\x3f\xe1\xff\xc0\x0f\x0f\xf0\xff\xff\xff\xff\xff\xc3\xf0\xfc\x3e\x3f\xe1\xff\xf0\x3f\x0f\xf0\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc0\xf0\x00\x0c\x00\xff\x8f\x80\x1f\xfc\x00\x7f\xff\xff\xff\xff\x00\x30\x00\x0c\x00\x3f\x8f\x80\x03\xf8\x00\x7f\xff\xff\xff\xfe\x00\x30\x00\x0c\x00\x1f\x8f\x80\x01\xf8\x00\x7f\xff\xff\xff\xfe\x1f\x3f\xc3\xfc\x3e\x0f\x8f\x87\xc0\xf8\x7f\xff\xff\xff\xff\xfe\x1f\xff\xc3\xfc\x3f\x0f\x8f\x87\xf0\x78\x7f\xff\xff\xff\xff\xfc\x3f\xff\xc3\xfc\x3f\x0f\x8f\x87\xf8\x78\x7f\xff\xff\xff\xff\xfe\x1f\xff\xc3\xfc\x3f\x0f\x8f\x87\xf8\x78\x7f\xff\xff\xff\xff\xfe\x07\xff\xc3\xfc\x3f\x0f\x8f\x87\xfc\x38\x7f\xff\xff\xff\xff\xfe\x01\xff\xc3\xfc\x3e\x1f\x8f\x87\xfc\x38\x00\xff\xff\xff\xff\xff\x00\x7f\xc3\xfc\x00\x1f\x8f\x87\xfc\x38\x00\xff\xff\xff\xff\xff\xc0\x3f\xc3\xfc\x00\x7f\x8f\x87\xfc\x38\x00\xff\xff\xff\xff\xff\xf0\x3f\xc3\xfc\x00\x7f\x8f\x87\xfc\x38\x7f\xff\xff\xff\xff\xff\xfc\x1f\xc3\xfc\x38\x3f\x8f\x87\xfc\x38\x7f\xff\xff\xff\xff\xff\xfe\x1f\xc3\xfc\x3c\x1f\x8f\x87\xf8\x78\x7f\xff\xff\xff\xff\xff\xfe\x1f\xc3\xfc\x3e\x1f\x8f\x87\xf8\x78\x7f\xff\xff\xff\xff\xfd\xfe\x1f\xc3\xfc\x3e\x0f\x8f\x87\xf0\x78\x7f\xff\xff\xff\xff\xfc\x7c\x3f\xc3\xfc\x3f\x0f\x8f\x87\xc0\xf8\x7f\xff\xff\xff\xff\xfc\x00\x3f\xc3\xfc\x3f\x0f\x8f\x80\x01\xf8\x00\x7f\xff\xff\xff\xfe\x00\x7f\xc3\xfc\x3f\x87\x8f\x80\x03\xf8\x00\x7f\xff\xff\xff\xff\x81\xff\xc3\xfc\x3f\x87\x8f\x80\x1f\xfc\x00\x7f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff')
buffer3 = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1f\x80\x0f\x81\xc7\xff\xf8\x07\xc0\xf0\x0f\x00\x00\x00\x00\x00\x3f\x80\x1f\xc1\xc7\xff\xf8\x3f\xf0\xf0\x0f\x00\x00\x00\x00\x00\x3f\xc0\x1f\xc1\xc7\xff\xf8\x7f\xf8\xf0\x0f\x00\x00\x00\x00\x00\x3f\xc0\x3f\xc1\xc0\x1e\x00\xfc\x38\xf0\x0f\x00\x00\x00\x00\x00\x3d\xc0\x3b\xc1\xc0\x1e\x00\xf0\x08\xf0\x0f\x00\x00\x00\x00\x00\x3d\xe0\x7b\xc1\xc0\x1e\x01\xe0\x00\xf0\x0f\x00\x00\x00\x00\x00\x3d\xe0\x73\xc1\xc0\x1e\x01\xe0\x00\xf0\x0f\x00\x00\x00\x00\x00\x3c\xe0\x73\xc1\xc0\x1e\x01\xe0\x00\xf0\x0f\x00\x00\x00\x00\x00\x3c\xf0\xf3\xc1\xc0\x1e\x03\xe0\x00\xff\xff\x00\x00\x00\x00\x00\x3c\xf0\xe3\xc1\xc0\x1e\x03\xe0\x00\xff\xff\x00\x00\x00\x00\x00\x3c\x78\xe3\xc1\xc0\x1e\x03\xe0\x00\xff\xff\x00\x00\x00\x00\x00\x3c\x79\xe3\xc1\xc0\x1e\x03\xe0\x00\xf0\x0f\x00\x00\x00\x00\x00\x3c\x39\xc3\xc1\xc0\x1e\x01\xe0\x00\xf0\x0f\x00\x00\x00\x00\x00\x3c\x3f\xc3\xc1\xc0\x1e\x01\xe0\x00\xf0\x0f\x00\x00\x00\x00\x00\x3c\x3f\xc3\xc1\xc0\x1e\x01\xe0\x00\xf0\x0f\x00\x00\x00\x00\x00\x3c\x1f\x83\xc1\xc0\x1e\x01\xf0\x08\xf0\x0f\x00\x00\x00\x00\x00\x3c\x1f\x83\xc1\xc0\x1e\x00\xf8\x38\xf0\x0f\x00\x00\x00\x00\x00\x3c\x1f\x83\xc1\xc0\x1e\x00\x7f\xf8\xf0\x0f\x00\x00\x00\x00\x00\x3c\x0f\x03\xc1\xc0\x1e\x00\x3f\xf0\xf0\x0f\x00\x00\x00\x00\x00\x3c\x0f\x03\xc1\xc0\x1e\x00\x0f\xc0\xf0\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x0f\xff\xf3\xff\x00\x70\x7f\xe0\x03\xff\x80\x00\x00\x00\x00\xff\xcf\xff\xf3\xff\xc0\x70\x7f\xfc\x07\xff\x80\x00\x00\x00\x01\xff\xcf\xff\xf3\xff\xe0\x70\x7f\xfe\x07\xff\x80\x00\x00\x00\x01\xe0\xc0\x3c\x03\xc1\xf0\x70\x78\x3f\x07\x80\x00\x00\x00\x00\x01\xe0\x00\x3c\x03\xc0\xf0\x70\x78\x0f\x87\x80\x00\x00\x00\x00\x03\xc0\x00\x3c\x03\xc0\xf0\x70\x78\x07\x87\x80\x00\x00\x00\x00\x01\xe0\x00\x3c\x03\xc0\xf0\x70\x78\x07\x87\x80\x00\x00\x00\x00\x01\xf8\x00\x3c\x03\xc0\xf0\x70\x78\x03\xc7\x80\x00\x00\x00\x00\x01\xfe\x00\x3c\x03\xc1\xe0\x70\x78\x03\xc7\xff\x00\x00\x00\x00\x00\xff\x80\x3c\x03\xff\xe0\x70\x78\x03\xc7\xff\x00\x00\x00\x00\x00\x3f\xc0\x3c\x03\xff\x80\x70\x78\x03\xc7\xff\x00\x00\x00\x00\x00\x0f\xc0\x3c\x03\xff\x80\x70\x78\x03\xc7\x80\x00\x00\x00\x00\x00\x03\xe0\x3c\x03\xc7\xc0\x70\x78\x03\xc7\x80\x00\x00\x00\x00\x00\x01\xe0\x3c\x03\xc3\xe0\x70\x78\x07\x87\x80\x00\x00\x00\x00\x00\x01\xe0\x3c\x03\xc1\xe0\x70\x78\x07\x87\x80\x00\x00\x00\x00\x02\x01\xe0\x3c\x03\xc1\xf0\x70\x78\x0f\x87\x80\x00\x00\x00\x00\x03\x83\xc0\x3c\x03\xc0\xf0\x70\x78\x3f\x07\x80\x00\x00\x00\x00\x03\xff\xc0\x3c\x03\xc0\xf0\x70\x7f\xfe\x07\xff\x80\x00\x00\x00\x01\xff\x80\x3c\x03\xc0\x78\x70\x7f\xfc\x07\xff\x80\x00\x00\x00\x00\x7e\x00\x3c\x03\xc0\x78\x70\x7f\xe0\x03\xff\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
#https://diyusthad.com/image2cpp

# Load the raspberry pi logo into the framebuffer (the image is 32x32)
#fb = framebuf.FrameBuffer(buffer, 32, 32, framebuf.MONO_HLSB)


i = 0
while True:
    
    # Clear the oled display in case it has junk on it.
    oled.fill(0)

    # Blit the image from the framebuffer to the oled display
    if i == 0:
        fb = framebuf.FrameBuffer(buffer3, 128, 64, framebuf.MONO_HLSB)
        oled.blit(fb, 0, 0)
        i = 1
    else:
        fb = framebuf.FrameBuffer(buffer2, 128, 64, framebuf.MONO_HLSB)
        oled.blit(fb, 0, 0)
        i = 0
    # Finally update
    oled.show()
    utime.sleep(1)
